
<%= turbo_frame_tag "campaign-editor-form" do %>
  <%= form_for @campaign, url: app_campaign_path(@app.key, @campaign) do |f| %>

    <div class="border rounded-md flex flex-col shadow-md">

      <div class="bg-gray-300">
        <div class="flex space-x-2 p-3">
          <div class="border border-gray-600 rounded-full h-3 w-3 bg-red-500"></div>
          <div class="border border-gray-600 rounded-full h-3 w-3 bg-yellow-500"></div>
          <div class="border border-gray-600 rounded-full h-3 w-3 bg-green-500"></div>
        </div>
      </div>

      <%= hidden_field_tag :namespace, "campaigns" %>

      <div class="bg-white p-3">
        <div data-controller="dante-editor" 
          data-content="<%= @campaign.serialized_content %>"
          data-editor-options="<%= {addButtonFixed: false, menuBarFixed: true}.to_json %>">
          <div data-dante-editor-target="container"></div>

          <%= f.hidden_field :serialized_content, 
            data: {"dante-editor-target": "serializedInput"},
            value: f.object.serialized_content.to_json
          %>
          <% #= f.hidden_field :html_content , data: {"dante-editor-target": "htmlInput"}%>
        </div>
      </div>
    </div>

    <div class="flex justify-end py-4">
      <%= f.submit("Save", class: "btn btn-success md", commit: "save") %>
    </div>

  <% end %>
<% end %>
